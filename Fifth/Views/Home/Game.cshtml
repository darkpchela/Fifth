<div class="text-success float-left ml-2 mt-2">
    <h2 id="playerA">
        PlayerA
    </h2>
</div>
<div class="text-success float-right mr-2 mt-2">
    <h2 id="playerB">
        PlayerB
    </h2>
</div>
<div class="game-board position-fixed" id='gameboard'>
    <div class="p-2 h-100 w-100 border border-warning rounded bg-secondary">
        <div class="h-100 w-100 d-flex flex-row flex-wrap justify-content-around align-items-center bg-dark rounded">
            <button class="btn btn-outline-warning align-content-center"></button>
            <button class="btn btn-outline-warning"></button>
            <button class="btn btn-outline-warning"></button>
            <button class="btn btn-outline-warning"></button>
            <button class="btn btn-outline-warning"></button>
            <button class="btn btn-outline-warning"></button>
            <button class="btn btn-outline-warning"></button>
            <button class="btn btn-outline-warning"></button>
            <button class="btn btn-outline-warning"></button>
        </div>
    </div>
</div>

@section Scripts{
    <script @*src="~/js/game.js"*@>
            const crossElem = '<svg viewBox="4 4 8 8" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg>'
            const circleElem = '<svg viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd"d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" /></svg>';
            $('#gameboard button').click((e) => {
                $(e.target).prop("disabled", true);
                $(e.target).append(crossElem);
            });
            $('#gameboard button').prop("disabled", true);

    </script>
    <script>
        const homeUrl = "/Home/";
        const hubConnection = new signalR.HubConnectionBuilder()
            .withUrl("/GameHub")
            .build();


        hubConnection.on("OnPlayerEntered", function (userName, id) {
                console.log(`$User: ${userName} ConnectionId: ${id}`);
        });

        hubConnection.on("Diconnect", function (userName, id) {
                window.location.replace(homeUrl);
        });

        hubConnection.on("OnGameStarted", data => {
            console.log("Game Started");
            $('#gameboard button').prop("disabled", false);
        });

        hubConnection.start();
    </script>
}